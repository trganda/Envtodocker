FROM joomla:4.2.7

RUN apt-get update \
  && apt-get install git -y

RUN git clone https://github.com/xdebug/xdebug.git \
  && cd xdebug \
  && git checkout XDEBUG_2_5_5 \
  && phpize \
  && ./configure --enable-xdebug \
  && make \
  && make install

COPY xdebug.ini /usr/local/etc/php/conf.d/

RUN docker-php-ext-enable xdebug
